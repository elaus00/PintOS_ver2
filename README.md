## 스택 포인터 유효성 검사

`syscall_handler`에서 시스템 호출을 처리할 때는 인자 목록에 있는 포인터들이 유효한지 확인하는 것이 중요합니다. 이를 위해 `is_valid_ptr()` 함수를 사용할 수 있습니다.

### `is_valid_ptr()`

이 함수는 사용자 영역의 포인터가 유효한지 확인합니다. 포인터가 NULL이 아니고 사용자 주소 공간에 있는지, 그리고 프로세스 주소 공간에 할당된 메모리를 가리키는지를 검증합니다. 

이러한 포인터들은 반드시 사용자 공간을 가리켜야 합니다. 커널 공간이 아니라면, 이는 페이지 폴트를 나타냅니다.

먼저 사용자 공간과 커널 공간을 구분하고, 미리 정의된 주소를 확인하는 작업이 필요할 수 있습니다. 그런 다음 포인터가 지정된 범위 내에 있는지 확인하고, 유효한 주소를 가리키면 true를 반환하고, 그렇지 않으면 페이지 폴트를 출력해야 합니다.

## 스택 포인터 레지스터 (*esp)를 통한 시스템 호출 번호 획득

시스템 호출 번호를 스택 포인터 레지스터를 통해 얻으려면, 스택 포인터에서 4를 빼야 합니다. 이는 시스템 호출이 호출될 때, 인수와 시스템 호출 번호가 모두 스택에 푸시되기 때문입니다. 스택 포인터에서 4를 빼면 시스템 호출 번호의 주소가 됩니다.

이 단계에서 시스템 호출의 결과는 `eax` 레지스터에 저장될 것입니다.

## 시스템 호출 처리

시스템 호출 번호를 기반으로 적절한 시스템 호출 처리 함수를 호출해야 합니다. 각 시스템 호출에 대해 인수는 스택 포인터를 사용하여 추출하고, 시스템 호출 함수에 전달되어야 합니다.

## 시스템 호출 결과 반환

`halt`, `exec`, `wait`, `create` 등의 특정 시스템 호출은 시스템 호출의 결과를 `eax` 레지스터에 반환해야 합니다.
